<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE pelican>

<configuration version="1.0">
  <pipeline>
    <clients>
      <PelicanServerClient>
        <server host="127.0.0.1" port="2000"/>
        <data type="StreamBlob" adapter="StreamAdapter"/>
        <data type="ServiceBlob" adapter="ServiceAdapter"/>
      </PelicanServerClient>
    </clients>

    <adapters>
      <StreamAdapter>
        <antennae amount="288"/>
      </StreamAdapter>
      <ServiceAdapter>
        <!-- No specific settings -->
      </ServiceAdapter>
    </adapters>

    <modules>
      <Imager>
        <uloc filename="/home/fhuizing/Workspace/Aartfaac/data/uvloc/uloc.txt"/>
        <vloc filename="/home/fhuizing/Workspace/Aartfaac/data/uvloc/vloc.txt"/>
      </Imager>
    </modules>

    <output>
      <streamers>
        <Visibilities active="true">
          <output path="/home/fhuizing/Workspace/Aartfaac/data/output"/>
          <uvw path="/home/fhuizing/Workspace/Aartfaac/data/uvloc/uvw_merged.txt"/>
          <lba type="1"/> <!-- 0 = LBA_INNER, 1 = LBA_OUTER -->
        </Visibilities>
        <TiffStorage active="false">
          <file path="/home/fhuizing/Workspace/Aartfaac/data/output"/>
        </TiffStorage>
        <CasaImageStorage active="false">
          <file path="/home/fhuizing/Workspace/Aartfaac/data/output"/>
        </CasaImageStorage>
      </streamers>
      <dataStreams>
        <stream name="calibrated" listeners="Visibilities"/>
        <stream name="post" listeners="TiffStorage"/>
        <stream name="post" listeners="CasaImageStorage"/>
      </dataStreams>
    </output>
  </pipeline>
</configuration>
