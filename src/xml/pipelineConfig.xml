<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE pelican>

<configuration version="1.0">
  <pipeline>
    <clients>
      <PelicanServerClient>
        <server host="10.141.5.254" port="2000"/>
        <data type="StreamBlob" adapter="StreamAdapter"/>
        <data type="ServiceBlob" adapter="ServiceAdapter"/>
      </PelicanServerClient>
    </clients>

    <adapters>
      <StreamAdapter>
        <!-- No specific settings -->
      </StreamAdapter>
      <ServiceAdapter>
        <!-- No specific settings -->
      </ServiceAdapter>
    </adapters>

    <modules>
      <Flagger>
        <deviation multiplier="4.0"/>
      </Flagger>

      <Calibrator>
        <positrf path="/var/scratch/fhuizing/aartfaac/posITRF.dat"/>
      </Calibrator>

      <Imager>
        <positrf path="/var/scratch/fhuizing/aartfaac/posITRF.dat"/>
      </Imager>
    </modules>

    <output>
      <streamers>
        <Visibilities active="false">
          <output path="/var/scratch/fhuizing/results"/>
        </Visibilities>
        <TiffStorage active="false">
          <output path="/var/scratch/fhuizing/results"/>
        </TiffStorage>
        <CasaImageStorage active="true">
          <output path="/var/scratch/fhuizing/results"/>
        </CasaImageStorage>
      </streamers>
      <dataStreams>
        <stream name="calibrated" listeners="Visibilities"/>
        <stream name="post" listeners="TiffStorage"/>
        <stream name="post" listeners="CasaImageStorage"/>
      </dataStreams>
    </output>
  </pipeline>
</configuration>
